import { useData } from 'nextra/data';

export const getStaticProps = async ({ params }) => {
  const baseUrl = process.env.BASE_URL || '';
  const response = await fetch(`${baseUrl}/books.json`);
  const data = await response.json();

return {
props: {
books: data,
},
};
};

// Rest of your code...

export default function Index({ books }) {
  return (
    <>
      <h1>Books of the Bible</h1>

      {books && books.old_testament && (
        <div>
          <h3 id="old-testament">Old Testament</h3>
          <ul>
            {books.old_testament.map((book) => (
              <li key={book}>{book}</li>
            ))}
          </ul>
        </div>
      )}

      {books && books.new_testament && (
        <div>
          <h3 id="new-testament">New Testament</h3>
          <ul>
            {books.new_testament.map((book) => (
              <li key={book}>{book}</li>
            ))}
          </ul>
        </div>
      )}
    </>

);
}
